{"version":3,"file":"js/app.af189c48.js","mappings":"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","sources":["webpack://canvas-editor/./src/App.vue","webpack://canvas-editor/./src/App.vue?7ccd","webpack://canvas-editor/./src/registerServiceWorker.js","webpack://canvas-editor/./src/main.js","webpack://canvas-editor/webpack/bootstrap","webpack://canvas-editor/webpack/runtime/chunk loaded","webpack://canvas-editor/webpack/runtime/compat get default export","webpack://canvas-editor/webpack/runtime/define property getters","webpack://canvas-editor/webpack/runtime/global","webpack://canvas-editor/webpack/runtime/hasOwnProperty shorthand","webpack://canvas-editor/webpack/runtime/jsonp chunk loading","webpack://canvas-editor/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"editor\" v-if=\"initialized\">\n      <div class=\"panel\">\n        <div>\n          <small>Tool</small>\n          <div class=\"btn-tools\">\n            <button v-for=\"tool in ['brush', 'rectangle', 'ellipse', 'polygon', 'stamp', 'star', 'fill']\" :key=\"tool\" @click=\"options.activeTool = tool\" :class=\"{active: this.options.activeTool === tool}\">\n              {{ tool.slice(0, 1).toUpperCase() }}{{ tool.slice(1) }}\n            </button>\n          </div>\n        </div>\n        <div>\n          <small>Actions</small>\n          <div class=\"btn-tools\">\n            <button @click=\"saveJpeg\">Save to jpeg</button>\n            <button @click=\"saveSdp\">Save to sdp</button>\n            <label for=\"upload-sdp\" class=\"button\">Upload sdp</label>\n            <input type=\"file\" id=\"upload-sdp\" style=\"display: none\" @change=\"uploadSdp\">\n            <button @click=\"jumpToSnapshot(state.currentSnapshot - 1)\" :disabled=\"!state.currentSnapshot || state.currentSnapshot < snapshots.length - 3\">Undo</button>\n            <button @click=\"jumpToSnapshot(state.currentSnapshot + 1)\" :disabled=\"state.currentSnapshot === snapshots.length - 1\">Redo</button>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div class=\"options mb\">\n          <div class=\"mb\">\n            <small>Stroke color</small>\n            <div class=\"btn-colors\">\n              <button v-for=\"(color, c) in ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#800080']\" :key=\"c\" :style=\"{background: color}\" @click=\"options.strokeColor = color; rememberColor(color)\" :class=\"{active: this.options.strokeColor === color}\"></button>\n            </div>\n            <input type=\"color\" v-model=\"options.strokeColor\" @change=\"rememberColor($event.target.value)\">\n          </div>\n          <div class=\"mb\">\n            <small>Fill color</small>\n            <div class=\"btn-colors\">\n              <button v-for=\"(color, c) in ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#800080']\" :key=\"c\" :style=\"{background: color}\" @click=\"options.fillColor = color; rememberColor(color)\" :class=\"{active: this.options.fillColor === color}\"></button>\n            </div>\n            <input type=\"color\" v-model=\"options.fillColor\" @change=\"rememberColor($event.target.value)\">\n          </div>\n          <div class=\"mb\" v-if=\"lastUsedColors.length\">\n            <small>Last used colors</small>\n            <div class=\"btn-colors\">\n              <button v-for=\"(color, c) in lastUsedColors\" :key=\"c\" :style=\"{background: color}\" @click=\"options.strokeColor = color\"></button>\n            </div>\n          </div>\n          <div class=\"mb\" v-if=\"['brush', 'rectangle', 'ellipse', 'polygon', 'star', 'stamp'].includes(options.activeTool)\">\n            <small>Line width</small>\n            <select v-model=\"options.lineWidth\">\n              <option value=\"1\">1 px</option>\n              <option value=\"2\">2 px</option>\n              <option value=\"3\">3 px</option>\n              <option value=\"4\">4 px</option>\n              <option value=\"5\">5 px</option>\n              <option value=\"6\">6 px</option>\n              <option value=\"7\">7 px</option>\n              <option value=\"8\">8 px</option>\n              <option value=\"9\">9 px</option>\n              <option value=\"10\">10 px</option>\n            </select>\n          </div>\n          <div class=\"mt mb\" v-if=\"['rectangle', 'ellipse', 'polygon', 'star'].includes(options.activeTool)\">\n            <label>\n              <input type=\"checkbox\" v-model=\"options.fillShape\"> Fill shapes\n            </label>\n          </div>\n          <div class=\"mt mb\" v-if=\"['polygon', 'star'].includes(options.activeTool)\">\n            <small>{{ options.activeTool === 'star' ? 'Spikes' : 'Sides' }} count</small>\n            <input type=\"number\" v-model=\"options.sidesCount\" min=\"3\">\n          </div>\n          <template v-if=\"options.activeTool === 'star'\">\n            <div class=\"mt mb\">\n              <small>Outer radius</small>\n              <input type=\"number\" v-model=\"options.outerRadius\">\n            </div>\n            <div class=\"mt mb\">\n              <small>Inner radius</small>\n              <input type=\"number\" v-model=\"options.innerRadius\">\n            </div>\n          </template>\n          <div class=\"mt\" v-if=\"options.activeTool === 'stamp'\">\n            <div class=\"btn-images\">\n              <button v-for=\"stamp in stamps\" :key=\"stamp.src\" @click=\"options.activeStamp = stamp.src\" :class=\"{active: options.activeStamp === stamp.src}\">\n                <img :src=\"stamp.src\" alt=\"\">\n              </button>\n            </div>\n            <label for=\"custom-pattern\">Custom pattern</label>\n            <input id=\"custom-pattern\" type=\"file\" accept=\"image/*\" @change=\"addImage\">\n          </div>\n        </div>\n        <div class=\"layers\">\n          <div class=\"mb\">\n            <button @click=\"addLayer(); makeSnapshot()\">Add layer</button>\n          </div>\n          <div class=\"layers-list\">\n            <div class=\"layer mb\" v-for=\"(layer, l) in layers\" :key=\"layer.id\"\n                 :class=\"{active: activeLayer.id === layer.id}\">\n              <a href=\"#\" class=\"unset\" @click.prevent=\"activeLayer = layer\">\n                {{ layer.name }}<br>\n                <i>({{ layer.vector ? 'Vector' : 'Bitmap' }})</i>\n              </a>\n              <div v-if=\"layers.length > 1 && !layer.background\">\n                <template v-if=\"l > 1\">\n                  <a href=\"#\" @click.prevent=\"layers.splice(l - 1, 2, layers[l], layers[l - 1])\">Down</a>\n                  <br>\n                </template>\n                <template v-if=\"layers.length > l + 1\">\n                  <a href=\"#\" @click.prevent=\"layers.splice(l, 2, layers[l + 1], layers[l])\">Up</a>\n                  <br>\n                </template>\n                <a href=\"#\" @click.prevent=\"deleteLayer(l)\">Delete</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div class=\"area\">\n          <div class=\"layer-canvas\" v-for=\"layer in layers\" :key=\"layer.id\" :style=\"{top: `${layer.top}px`, left: `${layer.left}px`}\">\n            <canvas :id=\"`canvas-${layer.id}`\" :width=\"layer.width\" :height=\"layer.height\" :class=\"{active: !layer.background && layer.id === activeLayer.id}\"></canvas>\n            <template v-if=\"layer.id === activeLayer.id && !layer.background\">\n              <div class=\"vertice\" :class=\"vertice\" v-for=\"vertice in ['top-left', 'top-right', 'bottom-left', 'bottom-right']\" :key=\"vertice\" @mousedown=\"state.resizing = vertice\" @mousemove=\"mousemove\"></div>\n            </template>\n          </div>\n          <canvas id=\"work-canvas\" :width=\"options.canvasWidth\" :height=\"options.canvasHeight\" @mousedown=\"mousedown\"\n                  @mousemove=\"mousemove\" :style=\"{cursor: cursor}\"></canvas>\n          <div class=\"vertice bottom-right\" v-if=\"activeLayer.background || (activeLayer.width < options.canvasWidth || activeLayer.height < options.canvasHeight)\" @mousedown=\"state.resizing = 'canvas'\" @mousemove=\"mousemove\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"welcome\" v-else>\n      <form action=\"#\" @submit.prevent=\"init\">\n        <p class=\"mb\">\n          <label>Canvas width</label>\n          <input type=\"number\" v-model=\"options.canvasWidth\" class=\"block\">\n        </p>\n        <p class=\"mb\">\n          <label>Canvas height</label>\n          <input type=\"number\" v-model=\"options.canvasHeight\" class=\"block\">\n        </p>\n        <p class=\"mb\">\n          <label>Canvas background</label>\n          <input type=\"color\" v-model=\"options.fillColor\" class=\"block\">\n        </p>\n        <button class=\"block\">Create</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      layers: [],\n      activeLayer: {shapes: []},\n      options: {\n        activeTool: 'brush',\n        activeStamp: 'img/logo.png',\n        lineWidth: 1,\n        strokeColor: '#000000',\n        fillColor: '#FFFFFF',\n        fillShape: true,\n        sidesCount: 6,\n        canvasWidth: 800,\n        canvasHeight: 600,\n        outerRadius: 100,\n        innerRadius: 30\n      },\n      state: {\n        selectionStart: {x: 0, y: 0},\n        drawing: false,\n        moving: false,\n        resizing: null,\n        currentSnapshot: -1,\n      },\n      lastUsedColors: [],\n      initialized: false,\n      snapshots: [],\n      stamps: [{src: 'img/logo.png'}, {src: 'img/shape-1.jpg'}, {src: 'img/shape-2.jpg'}, {src: 'img/shape-3.jpg'}, {src: 'img/shape-4.jpg'}]\n    }\n  },\n  watch: {\n    options: {\n      deep: true,\n      handler: function () {\n        if (this.options.innerRadius > this.options.outerRadius) this.options.innerRadius = this.options.outerRadius\n      }\n    }\n  },\n  computed: {\n    cursor: function () {\n      if (this.options.activeTool === 'stamp') return `url(${this.options.activeStamp}), crosshair`\n      if (this.state.moving) return 'grab'\n      if (this.state.drawing) return 'crosshair'\n      return 'default'\n    }\n  },\n  methods: {\n    addLayer: function (vector = false) {\n      this.layers.push({\n        id: Date.now(),\n        name: `Layer ${this.layers.length + 1}`,\n        visible: true,\n        width: this.options.canvasWidth,\n        height: this.options.canvasHeight,\n        top: 0,\n        left: 0,\n        shapes: [],\n        vector: vector\n      })\n      this.activeLayer = this.layers[this.layers.length - 1]\n      this.$nextTick(() => {\n        this.initializeCanvas(this.activeLayer)\n      })\n    },\n    initializeCanvas: function (layer) {\n      layer.el = document.getElementById(`canvas-${layer.id}`)\n      layer.ctx = layer.el.getContext('2d')\n      this.$nextTick(() => this.drawShapes(layer))\n    },\n    init: function () {\n      this.initialized = true\n      this.addLayer()\n      this.$nextTick(() => {\n        this.activeLayer.background = this.options.fillColor\n        this.activeLayer.name += ' - Background'\n        this.drawShapes(this.activeLayer)\n        this.rememberColor(this.options.fillColor)\n        this.makeSnapshot()\n      })\n    },\n    makeSnapshot: function () {\n      this.snapshots = this.snapshots.slice(0, this.state.currentSnapshot + 1)\n      this.snapshots.push({\n        canvas: {\n          width: this.options.canvasWidth,\n          height: this.options.canvasHeight\n        },\n        layers: [...this.layers].map(v => ({\n          background: v.background,\n          id: v.id,\n          height: v.height,\n          width: v.width,\n          top: v.top,\n          left: v.left,\n          name: v.name,\n          visible: v.visible,\n          shapes: [...v.shapes]\n        })),\n        timestamp: Date.now()\n      })\n      this.state.currentSnapshot++\n    },\n    getRealPosition: function (event) {\n      let boundingClientRect = document.getElementById('work-canvas').getBoundingClientRect()\n      return {\n        x: Math.min(event.x - boundingClientRect.x, this.options.canvasWidth),\n        y: Math.min(event.y - boundingClientRect.y, this.options.canvasHeight)\n      }\n    },\n    rememberColor: function (color) {\n      this.lastUsedColors.unshift(color)\n      this.lastUsedColors = this.lastUsedColors.filter((item, index, array) => array.indexOf(item) === index).slice(0, 10)\n    },\n    deleteLayer: function (index) {\n      this.layers.splice(index, 1)\n      if (!this.layers.find(layer => layer.id === this.activeLayer.id))\n        this.activeLayer = this.layers[index + 1] || this.layers[index - 1]\n      this.makeSnapshot()\n    },\n    mousedown: async function (event) {\n      let {x, y} = this.getRealPosition(event)\n      this.state.selectionStart = {x, y}\n      if (event.ctrlKey) {\n        this.state.moving = true\n        return\n      }\n      this.state.drawing = true\n      let shape = {tool: this.options.activeTool}\n      switch (this.options.activeTool) {\n        case \"brush\":\n          x -= this.activeLayer.left\n          y -= this.activeLayer.top\n          shape.dots = [{\n            x : this.activeLayer.width ? x / this.activeLayer.width : 0,\n            y: this.activeLayer.height ? y / this.activeLayer.height : 0\n          }]\n          break\n        case \"ellipse\":\n        case \"rectangle\":\n        case \"polygon\":\n        case \"star\":\n          this.addLayer(true)\n          await this.$nextTick()\n          this.activeLayer.name += ` - ${this.options.activeTool}`\n          this.activeLayer.left = x\n          this.activeLayer.top = y\n          this.activeLayer.width = 0\n          this.activeLayer.height = 0\n          break\n        case \"stamp\":\n          shape.stamp = this.options.activeStamp\n          x -= this.activeLayer.left\n          y -= this.activeLayer.top\n          shape.dots = [{\n            x : this.activeLayer.width ? x / this.activeLayer.width : 0,\n            y: this.activeLayer.height ? y / this.activeLayer.height : 0\n          }]\n          break\n        case \"fill\":\n          shape.x = this.activeLayer.width ? x / this.activeLayer.width : 0\n          shape.y = this.activeLayer.height ? y / this.activeLayer.height : 0\n          break\n        default:\n          break\n      }\n      shape.lineWidth = this.options.lineWidth\n      shape.strokeStyle = this.options.strokeColor\n      shape.fillStyle = this.options.fillColor\n      shape.fillShape = this.options.fillShape\n      shape.sidesCount = this.options.sidesCount\n      shape.radiusRatio = this.options.outerRadius ? this.options.innerRadius / this.options.outerRadius : 0\n      this.activeLayer.ctx.lineWidth = this.options.lineWidth\n      this.activeLayer.ctx.strokeStyle = this.options.strokeColor\n      this.activeLayer.ctx.fillStyle = this.options.fillColor\n      this.activeLayer.shapes.push(shape)\n      await this.drawShapes(this.activeLayer)\n    },\n    mousemove: function (event) {\n      let {x, y} = this.getRealPosition(event)\n      let sx = this.state.selectionStart.x\n      let sy = this.state.selectionStart.y\n      if (this.state.drawing) {\n        let shape = this.activeLayer.shapes[this.activeLayer.shapes.length - 1]\n        switch (this.options.activeTool) {\n          case \"brush\":\n            x -= this.activeLayer.left\n            y -= this.activeLayer.top\n            if (event.shiftKey) {\n              if (Math.abs(sx - x) < Math.abs(sy - y)) x = sx\n              else y = sy\n            } else {\n              this.state.selectionStart = {x, y}\n            }\n            shape.dots.push({\n              x : this.activeLayer.width ? x / this.activeLayer.width : 0,\n              y: this.activeLayer.height ? y / this.activeLayer.height : 0\n            })\n            break\n          case \"rectangle\":\n          case \"ellipse\":\n          case \"polygon\":\n          case \"star\":\n            this.activeLayer.width = Math.abs(x - sx)\n            this.activeLayer.height = event.shiftKey ? this.activeLayer.width : Math.abs(y - sy)\n            this.activeLayer.top = Math.min(sy, y)\n            this.activeLayer.left = Math.min(sx, x)\n            break\n          case \"stamp\":\n            x -= this.activeLayer.left\n            y -= this.activeLayer.top\n            shape.dots.push({\n              x : this.activeLayer.width ? x / this.activeLayer.width : 0,\n              y: this.activeLayer.height ? y / this.activeLayer.height : 0\n            })\n            break\n          default:\n            break\n        }\n        this.drawShapes(this.activeLayer)\n      }\n      if (this.state.resizing) {\n        if (this.state.resizing === 'canvas') this.scaleCanvas(event)\n        else this.scaleLayer(event)\n      }\n      if (this.state.moving) {\n        this.activeLayer.top += y - sy\n        this.activeLayer.left += x - sx\n        this.state.selectionStart = {x, y}\n      }\n    },\n    mouseup: function () {\n      let isAction = this.state.drawing || this.state.resizing || this.state.moving\n      this.state.drawing = false\n      this.state.moving = false\n      this.state.resizing = null\n      if (isAction) this.$nextTick(() => this.makeSnapshot())\n    },\n    scaleLayer: function (event) {\n      let x1 = this.activeLayer.left\n      let x2 = this.activeLayer.left + this.activeLayer.width\n      let y1 = this.activeLayer.top\n      let y2 = this.activeLayer.top + this.activeLayer.height\n      let {x, y} = this.getRealPosition(event)\n      let ratio = this.activeLayer.height ? this.activeLayer.width / this.activeLayer.height : 0\n      switch (this.state.resizing) {\n        case \"top-left\":\n          x1 = Math.min(x2, x)\n          y1 = Math.min(y2, y)\n          break\n        case \"top-right\":\n          x2 = Math.max(x1, x)\n          y1 = Math.min(y2, y)\n          break\n        case \"bottom-left\":\n          x1 = Math.min(x2, x)\n          y2 = Math.max(y1, y)\n          break\n        case \"bottom-right\":\n          x2 = Math.max(x1, x)\n          y2 = Math.max(y1, y)\n          break\n        default:\n          break\n      }\n      this.activeLayer.width = x2 - x1\n      this.activeLayer.height = event.shiftKey ? (ratio ? this.activeLayer.width / ratio : 0) : y2 - y1\n      this.activeLayer.top = this.state.resizing === 'top-left' || this.state.resizing === 'top-right' ? y2 - this.activeLayer.height : y1\n      this.activeLayer.left = this.state.resizing === 'top-left' || this.state.resizing === 'top-right' ? x2 - this.activeLayer.width : x1\n      this.$nextTick(() => this.drawShapes(this.activeLayer))\n    },\n    scaleCanvas: function (event) {\n      let {x, y} = this.getRealPosition(event)\n      let previousWidth = this.options.canvasWidth\n      let previousHeight = this.options.canvasHeight\n      let ratio = this.options.canvasHeight ? this.options.canvasWidth / this.options.canvasHeight : 0\n      this.options.canvasWidth = x\n      this.options.canvasHeight = event.shiftKey ? (ratio ? this.options.canvasWidth / ratio : 0) : y\n      this.layers.forEach(layer => {\n        layer.top = layer.top / Math.max(previousHeight, 1) * this.options.canvasHeight\n        layer.left = layer.left / Math.max(previousWidth, 1) * this.options.canvasWidth\n        layer.height = layer.height / Math.max(previousHeight, 1) * this.options.canvasHeight\n        layer.width = layer.width / Math.max(previousWidth, 1) * this.options.canvasWidth\n        this.$nextTick(() => this.drawShapes(layer))\n      })\n    },\n    drawShapes: function (layer) {\n      if (layer.background) {\n        layer.ctx.fillStyle = layer.background\n        layer.ctx.fillRect(0, 0, layer.width, layer.height)\n      }\n      layer.shapes.forEach(shape => {\n        this.$nextTick(() => {\n          layer.ctx.lineWidth = shape.lineWidth\n          layer.ctx.strokeStyle = shape.strokeStyle\n          layer.ctx.fillStyle = shape.fillStyle\n          if (shape.tool === 'brush') {\n            if (shape.dots[0]) {\n              layer.ctx.moveTo(shape.dots[0].x * layer.width, shape.dots[0].y * layer.height)\n              layer.ctx.beginPath()\n            }\n            shape.dots.slice(1).forEach(dot => {\n              layer.ctx.lineTo(dot.x * layer.width, dot.y * layer.height)\n              layer.ctx.stroke()\n            })\n          } else if (shape.tool === 'rectangle') {\n            layer.ctx.clearRect(0, 0, layer.width, layer.height)\n            layer.ctx.rect(Math.floor(shape.lineWidth / 2), Math.floor(shape.lineWidth / 2), layer.width - shape.lineWidth, layer.height - shape.lineWidth)\n            if (shape.fillShape) layer.ctx.fill()\n            layer.ctx.stroke()\n          } else if (shape.tool === 'ellipse') {\n            layer.ctx.clearRect(0, 0, layer.width, layer.height)\n            layer.ctx.beginPath()\n            layer.ctx.ellipse(layer.width / 2, layer.height / 2, Math.abs(layer.width / 2 - shape.lineWidth / 2), Math.abs(layer.height / 2 - shape.lineWidth / 2), 0, 0, Math.PI * 2)\n            if (shape.fillShape) layer.ctx.fill()\n            layer.ctx.stroke()\n          } else if (shape.tool === 'polygon') {\n            layer.ctx.clearRect(0, 0, layer.width, layer.height)\n            if (shape.sidesCount > 2) {\n              layer.ctx.beginPath()\n              let a = ((Math.PI * 2)/shape.sidesCount)\n              let radiusY = layer.height / 2\n              let radiusX = layer.width / 2\n              layer.ctx.translate(radiusX, radiusY);\n              layer.ctx.moveTo(radiusX,0);\n              for (let i = 1; i < shape.sidesCount; i++) {\n                layer.ctx.lineTo(radiusX*Math.cos(a*i),radiusY*Math.sin(a*i));\n              }\n              layer.ctx.closePath();\n              if (shape.fillShape) layer.ctx.fill()\n              layer.ctx.stroke()\n            }\n          } else if (shape.tool === 'star') {\n            layer.ctx.clearRect(0, 0, layer.width, layer.height)\n            if (shape.sidesCount > 2) {\n              let stepsCount = shape.sidesCount * 2\n              layer.ctx.beginPath()\n              let a = ((Math.PI * 2)/stepsCount)\n              let radiusY = layer.height / 2\n              let radiusX = layer.width / 2\n              layer.ctx.translate(radiusX, radiusY);\n              layer.ctx.moveTo(radiusX,0);\n              for (let i = 1; i < stepsCount; i++) {\n                layer.ctx.lineTo((i % 2 ? radiusX * shape.radiusRatio : radiusX)*Math.cos(a*i),(i % 2 ? radiusY * shape.radiusRatio : radiusY)*Math.sin(a*i));\n              }\n              layer.ctx.closePath();\n              if (shape.fillShape) layer.ctx.fill()\n              layer.ctx.stroke()\n            }\n          } else if (shape.tool === 'stamp') {\n            let stamp = this.stamps.find(v => v.src === shape.stamp)\n            if (stamp.image) {\n              this.renderImage(layer, stamp.image, shape.dots, shape.lineWidth)\n            }\n            let image = new Image()\n            image.onload = () => {\n              this.renderImage(layer, image, shape.dots, shape.lineWidth)\n              stamp.image = image\n            }\n            image.src = shape.stamp\n          }\n        })\n      })\n    },\n    renderImage: function (layer, image, dots, weight) {\n      dots.forEach(dot => {\n        layer.ctx.drawImage(image, 0, 0, image.width, image.height, layer.width * dot.x, layer.height * dot.y, 20 * weight, 20 * weight)\n      })\n    },\n    leadZero: function (n) {\n      return n < 10 ? `0${n}` : n\n    },\n    saveJpeg: function () {\n      let canvas = document.createElement('canvas')\n      canvas.width = this.options.canvasWidth\n      canvas.height = this.options.canvasHeight\n      let context = canvas.getContext('2d')\n      this.layers.forEach(layer => {\n        if (layer.width && layer.height)\n          context.drawImage(layer.el, 0, 0, layer.width, layer.height, layer.left, layer.top, layer.width, layer.height)\n      })\n      let data = canvas.toDataURL('image/jpeg')\n      let a = document.createElement('a')\n      a.href = data\n      a.download = `${new Date().getFullYear()}${this.leadZero(new Date().getMonth())}${this.leadZero(new Date().getDate())}_${this.leadZero(new Date().getHours())}${this.leadZero(new Date().getMinutes())}${this.leadZero(new Date().getSeconds())}.jpg`\n      a.click()\n    },\n    saveSdp: function () {\n      let a = document.createElement('a')\n      a.href = 'data:application/json,' + encodeURIComponent(JSON.stringify({\n        options: this.options,\n        layers: this.layers,\n        snapshots: this.snapshots,\n        state: {currentSnapshot: this.state.currentSnapshot},\n        stamps: this.stamps.map(stamp => ({src: stamp.src}))\n      }))\n      a.download = `${new Date().getFullYear()}${this.leadZero(new Date().getMonth())}${this.leadZero(new Date().getDate())}_${this.leadZero(new Date().getHours())}${this.leadZero(new Date().getMinutes())}${this.leadZero(new Date().getSeconds())}.sdp`\n      a.click()\n    },\n    uploadSdp: function (event) {\n      if (event.target.files && event.target.files[0]) {\n        const reader = new FileReader()\n        reader.onload = e => {\n          let content = JSON.parse(e.target.result)\n          if (content.options) this.options = {...content.options}\n          if (content.layers) this.layers = [...content.layers]\n          if (content.stamps) this.stamps = [...content.stamps]\n          if (content.state?.currentSnapshot) this.state.currentSnapshot = content.state?.currentSnapshot\n          if (content.snapshots) this.snapshots = [...content.snapshots]\n          this.$nextTick(() => {\n            this.layers.forEach(layer => this.initializeCanvas(layer))\n          })\n        }\n        reader.readAsText(event.target.files[0])\n      }\n    },\n    jumpToSnapshot: function (index) {\n      this.state.currentSnapshot = index\n      this.options.canvasWidth = this.snapshots[index].canvas.width\n      this.options.canvasHeight = this.snapshots[index].canvas.height\n      this.layers = []\n      this.$nextTick(() => {\n        this.layers = [...this.snapshots[index].layers]\n        if (!this.layers.find(layer => layer.id === this.activeLayer.id))\n          this.activeLayer = this.layers[this.layers.length - 1]\n        this.$nextTick(() => this.layers.forEach(layer => this.initializeCanvas(layer)))\n      })\n    },\n    addImage: function (event) {\n      if (event.target.files && event.target.files[0]) {\n        const reader = new FileReader()\n        reader.onload = e => {\n          this.stamps.push({src: e.target.result})\n          this.options.activeStamp = e.target.result\n        }\n        reader.readAsDataURL(event.target.files[0])\n      }\n    }\n  },\n  mounted() {\n    //this.init()\n    window.onmouseup = this.mouseup\n  }\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-size: .9rem;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\ncanvas {\n  display: block;\n}\n\n.editor {\n  display: grid;\n  grid-template-columns: 300px auto 1fr;\n  grid-gap: 30px;\n  padding: 30px;\n  background: #FFFFFF;\n  margin: 30px;\n}\n\n.panel, .layers, .options {\n  background: #dddddd;\n  padding: 20px;\n}\n\nselect, input:not([type=checkbox]), button, .button {\n  border-radius: 0;\n  padding: 0 15px;\n  height: 40px;\n  border: 1px solid #dddddd;\n  background: #FFFFFF;\n  display: flex;\n  align-items: center;\n}\ninput[type=color] {\n  padding: 0;\n}\n\nbutton {\n  display: inline-flex;\n  align-items: center;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.panel {\n  grid-column: 1 / 4;\n  display: flex;\n  align-items: start;\n  justify-content: space-between;\n}\n\n.panel > div {\n  display: flex;\n  flex-direction: column;\n  margin-right: 1rem;\n}\n.panel > div small, .options > div small, form label{\n  display: block;\n  margin-bottom: .25rem;\n}\n\n.area {\n  border: 1px solid #dddddd;\n}\n\n.area, #work-canvas {\n  position: relative;\n}\n\n.layer-canvas {\n  position: absolute;\n}\n\n.layer {\n  background: #FFFFFF;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n}\n.layer > div, a.unset {\n  text-decoration: none;\n  color: #2c3e50;\n  display: block;\n  padding: 20px;\n}\n\n.layer.active {\n  font-weight: bold;\n}\n\n.layer.active::before {\n  content: '';\n  position: absolute;\n  top: 2px;\n  bottom: 2px;\n  left: 2px;\n  width: 5px;\n  background: #dddddd;\n}\n\n.mb {\n  margin-bottom: 1rem;\n}\n.mt {\n  margin-top: .5rem;\n}\n.btn-colors {\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 125px;\n}\n.btn-colors button {\n  width: 20px;\n  padding: 0;\n  height: 20px;\n  margin: 0 5px 5px 0;\n}\nform {\n  width: 300px;\n  border: 1px solid #dddddd;\n  padding: 30px;\n  margin: 100px auto;\n  background: #FFFFFF;\n}\nbody {\n  background: #dddddd;\n}\n.vertice {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border: 1px solid #2c3e50;\n  z-index: 10;\n}\n.vertice.top-left {\n  top: -9px;\n  left: -9px;\n  cursor: nw-resize;\n}\n.vertice.top-right {\n  top: -9px;\n  right: -9px;\n  cursor: ne-resize;\n}\n.vertice.bottom-left {\n  bottom: -9px;\n  left: -9px;\n  cursor: ne-resize;\n}\n.vertice.bottom-right {\n  bottom: -9px;\n  right: -9px;\n  cursor: nw-resize;\n}\n.panel input[type=color] {\n  height: 20px;\n}\nbutton.active {\n  border: 1px solid #2c3e50;\n}\n.btn-tools {\n  display: flex;\n}\n.btn-tools button {\n  margin: 0 5px 5px 0;\n  font-weight: normal;\n}\ncanvas.active {\n  border: 1px dashed #2c3e50;\n}\n.block {\n  display: block;\n  width: 100%;\n}\n.layers-list {\n  display: flex;\n  flex-direction: column-reverse;\n}\n.btn-images {\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 300px;\n}\n.btn-images button {\n  padding: 0;\n  margin: 0 5px 5px 0;\n}\n.btn-images img {\n  height: 38px;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=580d72d4\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=580d72d4&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Dina\\\\Desktop\\\\canvas-editor\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\n\r\ncreateApp(App).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcanvas_editor\"] = self[\"webpackChunkcanvas_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8801); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","for","_hoisted_27","_createElementBlock","$data","_hoisted_4","_Fragment","_renderList","tool","key","onClick","activeTool","active","options","slice","toUpperCase","_toDisplayString","_hoisted_6","_hoisted_7","$options","_hoisted_9","type","id","style","onChange","currentSnapshot","disabled","length","_hoisted_10","_hoisted_11","_hoisted_14","color","c","background","strokeColor","$event","target","value","_hoisted_18","fillColor","_hoisted_22","includes","_hoisted_26","lineWidth","fillShape","sidesCount","min","_hoisted_42","outerRadius","_hoisted_44","innerRadius","stamp","src","activeStamp","alt","_hoisted_49","accept","layer","l","href","name","_hoisted_54","vector","_hoisted_55","splice","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","top","left","width","height","vertice","onMousedown","resizing","onMousemove","canvasWidth","canvasHeight","cursor","action","onSubmit","_hoisted_67","_hoisted_69","_hoisted_71","_hoisted_72","data","layers","activeLayer","shapes","state","selectionStart","x","y","drawing","moving","lastUsedColors","initialized","snapshots","stamps","watch","deep","handler","this","computed","methods","addLayer","push","Date","now","visible","$nextTick","initializeCanvas","el","document","getElementById","ctx","getContext","drawShapes","init","rememberColor","makeSnapshot","canvas","map","v","timestamp","getRealPosition","event","boundingClientRect","getBoundingClientRect","Math","unshift","filter","item","index","array","indexOf","deleteLayer","find","mousedown","async","ctrlKey","shape","dots","strokeStyle","fillStyle","radiusRatio","mousemove","sx","sy","shiftKey","abs","scaleCanvas","scaleLayer","mouseup","isAction","x1","x2","y1","y2","ratio","max","previousWidth","previousHeight","forEach","fillRect","moveTo","beginPath","dot","lineTo","stroke","clearRect","rect","floor","fill","ellipse","PI","a","radiusY","radiusX","translate","i","cos","sin","closePath","stepsCount","image","renderImage","Image","onload","weight","drawImage","leadZero","n","saveJpeg","createElement","context","toDataURL","download","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","click","saveSdp","encodeURIComponent","JSON","stringify","uploadSdp","files","reader","FileReader","e","content","parse","result","readAsText","jumpToSnapshot","addImage","readAsDataURL","mounted","window","onmouseup","__exports__","render","register","ready","console","log","registered","cached","updatefound","updated","offline","error","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}